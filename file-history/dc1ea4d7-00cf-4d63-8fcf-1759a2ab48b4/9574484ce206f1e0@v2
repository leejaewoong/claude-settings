# ğŸ® Sentiment-Curator

> PUBG ì»¤ë®¤ë‹ˆí‹°ì˜ ë°©ëŒ€í•œ ì •ë³´ë¥¼ AIë¡œ íë ˆì´ì…˜í•˜ì—¬ Slackìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ì§€ëŠ¥í˜• ì„œë¹„ìŠ¤

[![Tech Stack](https://img.shields.io/badge/Stack-Next.js%20%7C%20FastAPI%20%7C%20Supabase-blue)](docs/TECH_STACK.md)
[![Deployment](https://img.shields.io/badge/Deploy-Vercel%20%7C%20GCP%20Cloud%20Run-green)](docs/ARCHITECTURE.md)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

**Sentiment-Curator**ëŠ” Redditì˜ PUBG ì»¤ë®¤ë‹ˆí‹°ë¥¼ ìë™ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , AIê°€ ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ì— ë§ëŠ” í•µì‹¬ ì •ë³´ë§Œ ì„ ë³„í•˜ì—¬ Slackìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ìë™í™” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ¤– AI ê¸°ë°˜ ì½˜í…ì¸  íë ˆì´ì…˜
- **í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ í•„í„°ë§**: ìì—°ì–´ë¡œ ê´€ì‹¬ì‚¬ë¥¼ ì •ì˜í•˜ë©´ AIê°€ ê´€ë ¨ í¬ìŠ¤íŠ¸ë§Œ ì„ ë³„
- **ë˜‘ë˜‘í•œ ìš”ì•½**: GPT-4oê°€ í¬ìŠ¤íŠ¸ì™€ ëŒ“ê¸€ì„ ë¶„ì„í•˜ì—¬ í•µì‹¬ë§Œ ìš”ì•½
- **ê´€ë ¨ í¬ìŠ¤íŠ¸ ì¶”ì²œ**: ì„ë² ë”© ìœ ì‚¬ë„ ê¸°ë°˜ìœ¼ë¡œ ì—°ê´€ ì½˜í…ì¸  ìë™ ë°œêµ´

### ğŸ“¡ ìë™ í¬ë¡¤ë§
- **Reddit ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: PRAW APIë¥¼ í™œìš©í•œ ì•ˆì •ì ì¸ ë°ì´í„° ìˆ˜ì§‘
- **í¬ìŠ¤íŠ¸ + ëŒ“ê¸€ ì „ì²´ ìˆ˜ì§‘**: ë³¸ë¬¸ë¿ë§Œ ì•„ë‹ˆë¼ ì»¤ë®¤ë‹ˆí‹° ë°˜ì‘ë„ ë¶„ì„
- **ì£¼ê¸°ì  ì‹¤í–‰**: ì‚¬ìš©ìê°€ ì„¤ì •í•œ ìŠ¤ì¼€ì¤„ì— ë§ì¶° ìë™ ìˆ˜ì§‘

### ğŸ’¬ Slack í†µí•©
- **ê°œë³„ ë©”ì‹œì§€ ì „ì†¡**: ê° í¬ìŠ¤íŠ¸ë¥¼ ê¹”ë”í•œ Block Kit í˜•ì‹ìœ¼ë¡œ ì „ë‹¬
- **ìë™ ë²ˆì—­**: ì˜ì–´ í¬ìŠ¤íŠ¸ë¥¼ í•œêµ­ì–´ë¡œ ìë™ ë²ˆì—­
- **ì›í´ë¦­ ì ‘ê·¼**: ì›ë³¸ ë§í¬ì™€ ê´€ë ¨ í¬ìŠ¤íŠ¸ë¡œ ë°”ë¡œ ì´ë™

### âš™ï¸ ìœ ì—°í•œ ì„¤ì •
- **ì›¹ ëŒ€ì‹œë³´ë“œ**: ì§ê´€ì ì¸ UIë¡œ í¬ë¡¤ë§ ì„¤ì •, Slack ì±„ë„ ì„ íƒ
- **Slack OAuth**: ë¡œê·¸ì¸ í•œ ë²ˆìœ¼ë¡œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìë™ ì—°ë™
- **ë§ì¶¤í˜• íë ˆì´ì…˜**: ì„ ë³„ ê°œìˆ˜, ì „ë‹¬ ì£¼ê¸°, ëŒ€ìƒ ê¸°ê°„ ëª¨ë‘ ì»¤ìŠ¤í„°ë§ˆì´ì§•

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Node.js** 18+ (Frontend)
- **Python** 3.10+ (Backend)
- **Docker** (ì„ íƒì‚¬í•­, ë¡œì»¬ ê°œë°œìš©)

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/yourusername/sentiment-curator.git
cd sentiment-curator
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

#### Frontend (.env.local)
```bash
cd frontend
cp .env.example .env.local
```

```.env
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-random-secret-here

# Slack OAuth (https://api.slack.com/appsì—ì„œ ë°œê¸‰)
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret
```

#### Backend (.env)
```bash
cd backend
cp .env.example .env
```

```.env
# Database (Supabase)
DATABASE_URL=postgresql+asyncpg://user:pass@db.supabase.co:5432/postgres

# Redis (Upstash)
REDIS_URL=redis://default:pass@upstash-redis.com:6379

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key

# Slack
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token

# Reddit (https://www.reddit.com/prefs/appsì—ì„œ ë°œê¸‰)
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret
REDDIT_USER_AGENT=SentimentCurator/1.0

# Security
ENCRYPTION_KEY=your-fernet-encryption-key
```

### 3. ê°œë°œ ì„œë²„ ì‹¤í–‰

#### âš¡ ì›í´ë¦­ ì‹¤í–‰ (ê¶Œì¥)

**Windows (PowerShell):**
```powershell
.\start-dev.ps1
```

**Linux/macOS:**
```bash
./start-dev.sh
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë™ìœ¼ë¡œ:
- âœ… Python ê°€ìƒí™˜ê²½ ìƒì„± (ì—†ì„ ê²½ìš°)
- âœ… ì˜ì¡´ì„± ì„¤ì¹˜ (Backend + Frontend)
- âœ… Backendì™€ Frontend ì„œë²„ë¥¼ ë™ì‹œ ì‹¤í–‰
- âœ… Ctrl+Cë¡œ ëª¨ë“  ì„œë²„ ì¢…ë£Œ

**ì‹¤í–‰ í›„ ì ‘ì†:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Docs: http://localhost:8000/docs

---

#### ğŸ”§ ê°œë³„ ì‹¤í–‰ (ê³ ê¸‰)

ê° ì„œë²„ë¥¼ ë³„ë„ë¡œ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´:

**Backend:**
```bash
cd backend

# Python ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
.\venv\Scripts\activate  # Windows
# source venv/bin/activate  # Linux/macOS

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# DB ë§ˆì´ê·¸ë ˆì´ì…˜
alembic upgrade head

# FastAPI ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload
```

**Frontend:**
```bash
cd frontend
npm install
npm run dev
```

**Celery (ì„ íƒì‚¬í•­ - ìŠ¤ì¼€ì¤„ë§ í•„ìš” ì‹œ):**
```bash
# Worker (ë³„ë„ í„°ë¯¸ë„)
cd backend
.\venv\Scripts\activate
celery -A app.core.celery_app worker --loglevel=info

# Beat (ë³„ë„ í„°ë¯¸ë„)
cd backend
.\venv\Scripts\activate
celery -A app.core.celery_app beat --loglevel=info
```

---

#### ğŸ³ Docker Compose ì‚¬ìš© (ëŒ€ì•ˆ)

Dockerë¥¼ ì„ í˜¸í•œë‹¤ë©´ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘ (Backend + Celery + Redis)
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose down
```

**í¬í•¨ëœ ì„œë¹„ìŠ¤:**
- Backend API (í¬íŠ¸ 8000)
- Celery Worker
- Celery Beat
- Redis (ë¡œì»¬ ê°œë°œìš©)

**ì£¼ì˜:** FrontendëŠ” ë³„ë„ë¡œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤ (`cd frontend && npm run dev`)

---

## ğŸ“š ë¬¸ì„œ

- **[ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ](docs/REQUIREMENTS.md)**: í”„ë¡œì íŠ¸ ê¸°ëŠ¥ ë° ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- **[ê¸°ìˆ  ìŠ¤íƒ](docs/TECH_STACK.md)**: ì‚¬ìš© ê¸°ìˆ  ìƒì„¸ ì„¤ëª… ë° ì„ ì • ì´ìœ 
- **[ì•„í‚¤í…ì²˜](docs/ARCHITECTURE.md)**: ì‹œìŠ¤í…œ êµ¬ì¡°, ë°ì´í„° í”Œë¡œìš°, ë°°í¬ ì „ëµ

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS + Shadcn/UI
- **State**: React Query + Zustand
- **Auth**: NextAuth.js (Slack OAuth)

### Backend
- **Framework**: FastAPI
- **Language**: Python 3.10+
- **Task Queue**: Celery + Celery Beat
- **ORM**: SQLAlchemy (Async)
- **API Clients**: PRAW (Reddit), slack-sdk, OpenAI SDK

### Infrastructure
- **Frontend Deploy**: Vercel
- **Backend Deploy**: GCP Cloud Run
- **Database**: Supabase (PostgreSQL)
- **Cache**: Upstash Redis
- **AI**: OpenAI GPT-4o + Embeddings

### DevOps
- **CI/CD**: GitHub Actions
- **Monitoring**: Sentry, Cloud Logging
- **Containerization**: Docker

---

## ğŸ“– ì‚¬ìš© ë°©ë²•

### 1. Slack ì•± ìƒì„±

1. [Slack API](https://api.slack.com/apps)ì—ì„œ ìƒˆ ì•± ìƒì„±
2. **OAuth & Permissions**:
   - Scopes ì¶”ê°€: `chat:write`, `channels:read`, `users:read`
   - Redirect URL ì„¤ì •: `http://localhost:3000/api/auth/callback/slack`
3. **Install to Workspace** í´ë¦­í•˜ì—¬ Bot Token ë°œê¸‰

### 2. Reddit API í‚¤ ë°œê¸‰

1. [Reddit Apps](https://www.reddit.com/prefs/apps) ì ‘ì†
2. "Create App" ë˜ëŠ” "Create Another App" í´ë¦­
3. ì•± íƒ€ì…: **script**
4. Client IDì™€ Secret ë³µì‚¬

### 3. OpenAI API í‚¤ ë°œê¸‰

1. [OpenAI Platform](https://platform.openai.com/api-keys)ì—ì„œ API í‚¤ ìƒì„±
2. ê²°ì œ ì •ë³´ ë“±ë¡ (ë¬´ë£Œ í¬ë ˆë”§ ì†Œì§„ ì‹œ)

### 4. ì›¹ ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •

1. `http://localhost:3000` ì ‘ì†
2. "Login with Slack" í´ë¦­
3. **Settings** í˜ì´ì§€ì—ì„œ ì„¤ì •:
   - **ê´€ì‹¬ì‚¬ í”„ë¡¬í”„íŠ¸**: "ì‹ ê·œ íŒ¨ì¹˜ ê´€ë ¨ ë²„ê·¸ ë¦¬í¬íŠ¸ì™€ ë°¸ëŸ°ìŠ¤ ë…¼ì˜"
   - **ì„ ë³„ ê°œìˆ˜**: 5ê°œ
   - **ì „ë‹¬ ì‹œì **: ë§¤ì¼ ì˜¤ì „ 9ì‹œ (ë˜ëŠ” ì¦‰ì‹œ)
   - **Slack ì±„ë„**: #pubg-news
4. **ì €ì¥** í´ë¦­

### 5. í¬ë¡¤ë§ ì‹¤í–‰

- **ìˆ˜ë™ ì‹¤í–‰**: Dashboardì—ì„œ "Run Now" ë²„íŠ¼ í´ë¦­
- **ìë™ ì‹¤í–‰**: ì„¤ì •í•œ ìŠ¤ì¼€ì¤„ì— ë”°ë¼ Celery Beatê°€ ìë™ íŠ¸ë¦¬ê±°

### 6. Slackì—ì„œ ê²°ê³¼ í™•ì¸

ì„¤ì •í•œ ì±„ë„ì—ì„œ AIê°€ ì„ ë³„í•œ í¬ìŠ¤íŠ¸ í™•ì¸:

```
ğŸ® PUBG ì‹ ê·œ í¬ìŠ¤íŠ¸

ìš”ì•½:
ìƒˆë¡œìš´ íŒ¨ì¹˜ë¡œ ì¸í•œ FPS ì €í•˜ ë¬¸ì œê°€ ë³´ê³ ë˜ê³  ìˆìŠµë‹ˆë‹¤.
ìœ ì €ë“¤ì€ íŠ¹íˆ Erangel ë§µì—ì„œ ì‹¬ê°í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ ê²½í—˜í•˜ê³  ìˆìœ¼ë©°...

ğŸ“ ì›ë³¸: View Post
ğŸ”— ê´€ë ¨ í¬ìŠ¤íŠ¸:
  â€¢ FPS drop issue after patch
  â€¢ Performance optimization guide
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### Backend
```bash
cd backend
pytest tests/ -v
```

### Frontend
```bash
cd frontend
npm run test
```

---

## ğŸš¢ ë°°í¬

### Frontend (Vercel)

```bash
cd frontend
vercel deploy --prod
```

ë˜ëŠ” GitHub ì—°ë™ ì‹œ ìë™ ë°°í¬.

### Backend (GCP Cloud Run)

```bash
cd backend

# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t gcr.io/YOUR_PROJECT_ID/sentiment-curator:latest .

# GCRì— í‘¸ì‹œ
docker push gcr.io/YOUR_PROJECT_ID/sentiment-curator:latest

# Cloud Run ë°°í¬
gcloud run deploy sentiment-curator-api \
  --image gcr.io/YOUR_PROJECT_ID/sentiment-curator:latest \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --set-env-vars DATABASE_URL=$DATABASE_URL,OPENAI_API_KEY=$OPENAI_API_KEY
```

ìì„¸í•œ ë°°í¬ ê°€ì´ë“œëŠ” [ARCHITECTURE.md](docs/ARCHITECTURE.md#7-ë°°í¬-ì•„í‚¤í…ì²˜)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ“Š í”„ë¡œì íŠ¸ êµ¬ì¡°

```
sentiment-curator/
â”œâ”€â”€ frontend/           # Next.js ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/        # í˜ì´ì§€ (dashboard, settings)
â”‚   â”‚   â”œâ”€â”€ components/ # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ lib/        # ìœ í‹¸ë¦¬í‹°, API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ .env.example    # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/            # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/        # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ core/       # ë°ì´í„°ë² ì´ìŠ¤, ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ models/     # DB ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ services/   # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â””â”€â”€ tasks/      # Celery íƒœìŠ¤í¬
â”‚   â”œâ”€â”€ alembic/        # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ .env.example    # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ docs/               # ë¬¸ì„œ
â”‚   â”œâ”€â”€ REQUIREMENTS.md
â”‚   â”œâ”€â”€ TECH_STACK.md
â”‚   â””â”€â”€ ARCHITECTURE.md
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/      # CI/CD ì„¤ì •
â”‚
â”œâ”€â”€ start-dev.ps1       # Windows ê°œë°œ ì„œë²„ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ start-dev.sh        # Linux/macOS ê°œë°œ ì„œë²„ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ docker-compose.yml  # Docker ë¡œì»¬ ê°œë°œ í™˜ê²½
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md           # ì´ íŒŒì¼
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### Reddit API Rate Limit ì´ˆê³¼
```python
# backend/app/services/reddit_crawler.pyì—ì„œ
# sleep ì‹œê°„ì„ ëŠ˜ë ¤ì£¼ì„¸ìš”
await asyncio.sleep(2)  # 1ì´ˆ â†’ 2ì´ˆ
```

### OpenAI API ë¹„ìš© ê±±ì •
- `gpt-4o` â†’ `gpt-4o-mini`ë¡œ ë³€ê²½ (90% ë¹„ìš© ì ˆê°)
- Batch API ì‚¬ìš© (50% í• ì¸)

### Slack ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨
- Bot Token Scope í™•ì¸: `chat:write` í•„ìš”
- ì±„ë„ì— ë´‡ ì´ˆëŒ€: `/invite @sentiment-curator`

---

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?

1. Fork í›„ ë¸Œëœì¹˜ ìƒì„±: `git checkout -b feature/amazing-feature`
2. ì»¤ë°‹: `git commit -m 'Add amazing feature'`
3. í‘¸ì‹œ: `git push origin feature/amazing-feature`
4. Pull Request ìƒì„±

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ’¡ í–¥í›„ ê³„íš

- [ ] **í”¼ë“œë°± ë£¨í”„**: Slack ì´ëª¨ì§€ ë°˜ì‘ ìˆ˜ì§‘ â†’ AI í•™ìŠµ
- [ ] **ë©€í‹° ì»¤ë®¤ë‹ˆí‹°**: ë””ì‹œì¸ì‚¬ì´ë“œ, ì¸ë²¤ ë“± í•œêµ­ ì»¤ë®¤ë‹ˆí‹° ì¶”ê°€
- [ ] **ê³ ê¸‰ ë¶„ì„**: íŠ¸ë Œë“œ í‚¤ì›Œë“œ ì¶”ì¶œ, ê°ì„± ë¶„ì„
- [ ] **ëª¨ë°”ì¼ ì•±**: React Nativeë¡œ iOS/Android ì§€ì›
- [ ] **Discord ì§€ì›**: Slack ì™¸ Discord Webhook ì¶”ê°€

---

## ğŸ“§ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì§ˆë¬¸ì´ë‚˜ ì œì•ˆì€ [Issues](https://github.com/yourusername/sentiment-curator/issues)ë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.

---

**Made with â¤ï¸ by [Your Name](https://github.com/yourusername)**
